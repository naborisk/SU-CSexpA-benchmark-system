package validation

import (
	"net/url"
	"testing"

	"github.com/stretchr/testify/assert"
)

const testdata2023 = `{"tag": "flamingofilter","results":[{"lat":44.192333,"lon":4.741333,"date":"2012-07-09 19:00:57","url":"https://farm9.static.flickr.com/8384/8483835779_d9a8eccde2.jpg"},{"lat":43.922165,"lon":4.786333,"date":"2012-07-09 19:02:43","url":"https://farm9.static.flickr.com/8107/8484932516_ca2fa47cf0.jpg"},{"lat":37.616333,"lon":-77.527664,"date":"2012-08-01 11:11:04","url":"https://farm9.static.flickr.com/8226/8569131977_60823a1a25.jpg"},{"lat":36.307835,"lon":-115.30283,"date":"2012-08-06 20:56:41","url":"https://farm9.static.flickr.com/8352/8391935456_a93e034eae.jpg"},{"lat":37.120667,"lon":27.534166,"date":"2012-08-14 05:13:28","url":"https://farm9.static.flickr.com/8111/8586748449_61343fa14b.jpg"},{"lat":-5.144834,"lon":119.4085,"date":"2012-08-25 07:02:36","url":"https://farm9.static.flickr.com/8353/8310708683_bc3259ea00.jpg"},{"lat":-5.144834,"lon":119.40833,"date":"2012-08-25 07:04:26","url":"https://farm9.static.flickr.com/8221/8311751508_6e9673a2b3.jpg"},{"lat":51.132496,"lon":-114.01549,"date":"2012-08-26 00:59:37","url":"https://farm9.static.flickr.com/8211/8317169556_a100e0b015.jpg"},{"lat":-5.145,"lon":119.40833,"date":"2012-08-29 07:21:46","url":"https://farm9.static.flickr.com/8220/8311761418_5499b491bd.jpg"},{"lat":-5.145,"lon":119.4085,"date":"2012-08-29 07:22:06","url":"https://farm9.static.flickr.com/8503/8310715695_297b3bfeb6.jpg"},{"lat":38.17872,"lon":20.48754,"date":"2012-08-29 20:21:52","url":"https://farm9.static.flickr.com/8371/8502507053_cc682e8d99.jpg"},{"lat":30.235909,"lon":-93.28329,"date":"2012-08-30 17:53:10","url":"https://farm9.static.flickr.com/8354/8391102697_bc455d6b39.jpg"},{"lat":53.199932,"lon":-3.066827,"date":"2012-09-04 07:54:27","url":"https://farm9.static.flickr.com/8213/8437010931_d38b46d8b6.jpg"},{"lat":45.812332,"lon":9.0795,"date":"2012-09-10 22:30:31","url":"https://farm9.static.flickr.com/8243/8519853558_2e9caa1d0b.jpg"},{"lat":25.1335,"lon":55.187,"date":"2012-09-15 00:45:08","url":"https://farm9.static.flickr.com/8216/8318241365_aff0e5f918.jpg"},{"lat":25.133833,"lon":55.186333,"date":"2012-09-15 00:50:30","url":"https://farm9.static.flickr.com/8218/8319302118_2dd4781f30.jpg"},{"lat":25.194166,"lon":55.275665,"date":"2012-09-15 04:29:45","url":"https://farm9.static.flickr.com/8355/8318258823_ab798684c2.jpg"},{"lat":20.996834,"lon":-89.64433,"date":"2012-09-16 23:37:05","url":"https://farm9.static.flickr.com/8212/8327920978_3a3cd52407.jpg"},{"lat":37.48327,"lon":-122.149536,"date":"2012-09-21 04:16:30","url":"https://farm9.static.flickr.com/8529/8492265557_f7fb9e4182.jpg"},{"lat":37.48327,"lon":-122.149536,"date":"2012-09-21 04:24:27","url":"https://farm9.static.flickr.com/8106/8493381766_4819be3a6c.jpg"},{"lat":54.208,"lon":-0.2845,"date":"2012-10-02 05:32:12","url":"https://farm9.static.flickr.com/8220/8301089979_479d711f74.jpg"},{"lat":25.073,"lon":55.133335,"date":"2012-10-06 07:25:15","url":"https://farm9.static.flickr.com/8219/8317557572_881c155e1f.jpg"},{"lat":33.642834,"lon":-84.425,"date":"2012-10-09 02:22:39","url":"https://farm9.static.flickr.com/8352/8345678384_f81884995e.jpg"},{"lat":40.515,"lon":-88.91434,"date":"2012-10-10 02:03:23","url":"https://farm9.static.flickr.com/8493/8302085637_31d2e7b129.jpg"},{"lat":40.674557,"lon":-74.01753,"date":"2012-10-13 03:25:56","url":"https://farm9.static.flickr.com/8501/8295800190_972f3753e4.jpg"},{"lat":51.575752,"lon":5.063515,"date":"2012-10-14 06:26:38","url":"https://farm9.static.flickr.com/8375/8535028184_fc0db9c73a.jpg"},{"lat":44.74541,"lon":11.951682,"date":"2012-10-14 22:29:11","url":"https://farm9.static.flickr.com/8331/8387499656_70be070bdb.jpg"},{"lat":57.178,"lon":14.0005,"date":"2012-10-21 22:17:56","url":"https://farm9.static.flickr.com/8216/8297666005_d7a44d41fb.jpg"},{"lat":35.803,"lon":-78.72134,"date":"2012-10-24 04:32:34","url":"https://farm9.static.flickr.com/8359/8304971919_b10873c4df.jpg"},{"lat":53.2785,"lon":-9.092334,"date":"2012-10-24 18:32:10","url":"https://farm9.static.flickr.com/8219/8344098834_34272f9933.jpg"},{"lat":0.0,"lon":0.0,"date":"2012-10-24 22:50:33","url":"https://farm9.static.flickr.com/8081/8338647670_200be9294f.jpg"},{"lat":45.478165,"lon":9.184666,"date":"2012-10-25 03:29:54","url":"https://farm9.static.flickr.com/8369/8354964253_3257c9f26d.jpg"},{"lat":37.660667,"lon":-121.89716,"date":"2012-10-25 05:40:24","url":"https://farm9.static.flickr.com/8376/8411508063_f0c345e2f6.jpg"},{"lat":43.83318,"lon":5.273129,"date":"2012-10-29 18:23:54","url":"https://farm9.static.flickr.com/8073/8308470442_514afe32cc.jpg"},{"lat":53.024334,"lon":9.882666,"date":"2012-11-03 01:41:02","url":"https://farm9.static.flickr.com/8246/8593971242_f0193eb402.jpg"},{"lat":36.113167,"lon":-115.135,"date":"2012-11-03 20:35:44","url":"https://farm9.static.flickr.com/8466/8427452364_f5b97ea58c.jpg"},{"lat":40.709167,"lon":-73.966,"date":"2012-11-04 01:14:50","url":"https://farm9.static.flickr.com/8184/8443489124_a9899226ae.jpg"},{"lat":40.773834,"lon":-77.858,"date":"2012-11-07 03:13:31","url":"https://farm9.static.flickr.com/8517/8468411051_4206c75515.jpg"},{"lat":-33.438835,"lon":-70.651,"date":"2012-11-09 00:41:07","url":"https://farm3.static.flickr.com/2841/9427624754_9b6d4deea1.jpg"},{"lat":-33.66517,"lon":-70.92516,"date":"2012-11-12 02:36:18","url":"https://farm3.static.flickr.com/2878/9427612862_2f9668a4f8.jpg"},{"lat":40.7125,"lon":-74.00467,"date":"2012-11-12 08:40:51","url":"https://farm9.static.flickr.com/8473/8443571332_f39ca0891d.jpg"},{"lat":40.727165,"lon":-74.001,"date":"2012-11-12 19:17:34","url":"https://farm9.static.flickr.com/8518/8443578922_9dbc4c1a7e.jpg"},{"lat":35.905666,"lon":-78.94283,"date":"2012-11-13 02:26:06","url":"https://farm9.static.flickr.com/8218/8306015986_86017efb4e.jpg"},{"lat":40.659164,"lon":-73.996,"date":"2012-11-13 16:18:38","url":"https://farm9.static.flickr.com/8223/8443583150_19dae50094.jpg"},{"lat":40.728664,"lon":-73.92817,"date":"2012-11-17 18:54:09","url":"https://farm9.static.flickr.com/8515/8442525237_8073b2b366.jpg"},{"lat":40.725334,"lon":-73.934,"date":"2012-11-17 18:54:35","url":"https://farm9.static.flickr.com/8185/8443619908_84d206f6c3.jpg"},{"lat":41.269062,"lon":-72.393005,"date":"2012-11-17 23:21:55","url":"https://farm9.static.flickr.com/8501/8316933696_a1798f8a48.jpg"},{"lat":32.663834,"lon":-96.905334,"date":"2012-11-18 01:29:04","url":"https://farm9.static.flickr.com/8079/8337470002_d29c44069f.jpg"},{"lat":-23.587921,"lon":-46.653786,"date":"2012-11-18 21:55:23","url":"https://farm9.static.flickr.com/8527/8558672619_acfc2a4a7b.jpg"},{"lat":43.54867,"lon":7.027688,"date":"2012-11-20 07:30:00","url":"https://farm9.static.flickr.com/8493/8420736604_6eb1ca9095.jpg"},{"lat":-32.900833,"lon":-71.2585,"date":"2012-11-21 08:15:53","url":"https://farm9.static.flickr.com/8526/8498671157_e6aab0d10c.jpg"},{"lat":41.237167,"lon":-105.437164,"date":"2012-11-22 22:09:22","url":"https://farm9.static.flickr.com/8507/8488772518_5509b7e412.jpg"},{"lat":41.535,"lon":-109.4775,"date":"2012-11-23 01:44:50","url":"https://farm9.static.flickr.com/8517/8553102013_83e9d54a68.jpg"},{"lat":41.542667,"lon":-109.704834,"date":"2012-11-23 01:55:36","url":"https://farm9.static.flickr.com/8227/8554214064_6c2c16fc87.jpg"},{"lat":30.335,"lon":-98.14467,"date":"2012-11-24 00:38:42","url":"https://farm9.static.flickr.com/8216/8298039805_fb121ee060.jpg"},{"lat":41.0235,"lon":-81.451164,"date":"2012-11-25 05:22:06","url":"https://farm9.static.flickr.com/8512/8366860175_264aaf0ec8.jpg"},{"lat":45.2953,"lon":10.266102,"date":"2012-11-25 11:13:32","url":"https://farm9.static.flickr.com/8228/8414741375_ae74696be8.jpg"},{"lat":45.2953,"lon":10.266102,"date":"2012-11-25 14:52:07","url":"https://farm9.static.flickr.com/8508/8414737541_2e60fcaf79.jpg"},{"lat":-12.577834,"lon":-38.001835,"date":"2012-11-26 19:25:36","url":"https://farm9.static.flickr.com/8363/8309345960_4b2a6d4c3f.jpg"},{"lat":40.449158,"lon":-79.98676,"date":"2012-11-29 07:25:24","url":"https://farm9.static.flickr.com/8213/8323459547_b36ba8afb1.jpg"},{"lat":48.848667,"lon":2.341833,"date":"2012-11-29 22:07:13","url":"https://farm9.static.flickr.com/8358/8309223157_9b28b20665.jpg"},{"lat":40.75744,"lon":-73.99454,"date":"2012-11-29 22:42:45","url":"https://farm9.static.flickr.com/8363/8314944970_3ede68008c.jpg"},{"lat":43.311634,"lon":-1.68823,"date":"2012-12-01 21:26:09","url":"https://farm9.static.flickr.com/8495/8293926606_c0c2ecf5a0.jpg"},{"lat":-12.953334,"lon":-38.349335,"date":"2012-12-02 01:18:59","url":"https://farm9.static.flickr.com/8212/8309535474_d109c4e071.jpg"},{"lat":34.045666,"lon":-118.23617,"date":"2012-12-02 04:56:59","url":"https://farm9.static.flickr.com/8221/8329095720_f20d157b97.jpg"},{"lat":40.787365,"lon":-73.95653,"date":"2012-12-03 00:05:21","url":"https://farm9.static.flickr.com/8217/8299587495_0001cf6439.jpg"},{"lat":36.068,"lon":-80.291664,"date":"2012-12-05 00:28:15","url":"https://farm9.static.flickr.com/8106/8577029967_4faca11d01.jpg"},{"lat":44.505833,"lon":-73.144,"date":"2012-12-06 04:34:42","url":"https://farm9.static.flickr.com/8503/8306583909_33d95e5a22.jpg"},{"lat":41.2645,"lon":-96.13333,"date":"2012-12-08 01:57:01","url":"https://farm9.static.flickr.com/8367/8454725108_94c3894a0f.jpg"},{"lat":51.248074,"lon":-0.769692,"date":"2012-12-08 08:19:09","url":"https://farm9.static.flickr.com/8501/8317372397_32cef7e3b0.jpg"},{"lat":55.641254,"lon":-3.171118,"date":"2012-12-09 00:14:59","url":"https://farm9.static.flickr.com/8219/8317711038_c9c9dc13b5.jpg"},{"lat":21.014036,"lon":105.820625,"date":"2012-12-09 02:28:42","url":"https://farm9.static.flickr.com/8496/8304540416_4c4c1e9097.jpg"},{"lat":21.014036,"lon":105.820625,"date":"2012-12-09 02:34:20","url":"https://farm9.static.flickr.com/8217/8303487575_3957e29fb2.jpg"},{"lat":-12.984334,"lon":-38.519833,"date":"2012-12-09 08:19:33","url":"https://farm9.static.flickr.com/8077/8309497608_f424ba77dd.jpg"},{"lat":-36.827335,"lon":-73.05016,"date":"2012-12-09 18:24:48","url":"https://farm3.static.flickr.com/2837/9361356663_4194dc4996.jpg"},{"lat":50.869667,"lon":0.549166,"date":"2012-12-11 22:58:39","url":"https://farm9.static.flickr.com/8217/8299902428_50aebd0fd9.jpg"},{"lat":49.189865,"lon":-122.8038,"date":"2012-12-11 23:59:28","url":"https://farm9.static.flickr.com/8076/8290691508_f5a954100a.jpg"},{"lat":21.280167,"lon":-157.827,"date":"2012-12-12 19:24:26","url":"https://farm9.static.flickr.com/8211/8289601609_cbb7843bf5.jpg"},{"lat":41.981335,"lon":-87.69234,"date":"2012-12-13 00:26:30","url":"https://farm9.static.flickr.com/8491/8289191412_87b96fcc14.jpg"},{"lat":51.502293,"lon":-0.119262,"date":"2012-12-13 08:07:29","url":"https://farm9.static.flickr.com/8498/8290027086_f2d6a5b8c1.jpg"},{"lat":51.502293,"lon":-0.119262,"date":"2012-12-13 08:07:45","url":"https://farm9.static.flickr.com/8360/8288969033_dac038316d.jpg"},{"lat":28.414932,"lon":-81.57444,"date":"2012-12-13 18:53:20","url":"https://farm9.static.flickr.com/8496/8293114170_bb7ac73c67.jpg"},{"lat":42.816334,"lon":-1.645834,"date":"2012-12-13 22:15:16","url":"https://farm9.static.flickr.com/8358/8318632208_dc7626a6cb.jpg"},{"lat":37.76298,"lon":-122.42057,"date":"2012-12-13 22:39:44","url":"https://farm9.static.flickr.com/8495/8289517463_e01216b43a.jpg"},{"lat":51.506332,"lon":-0.148334,"date":"2012-12-13 23:22:12","url":"https://farm9.static.flickr.com/8072/8316457520_fec29dc1fa.jpg"},{"lat":59.06383,"lon":17.501,"date":"2012-12-14 22:50:32","url":"https://farm9.static.flickr.com/8071/8307502145_142ccebcd7.jpg"},{"lat":47.551834,"lon":7.588166,"date":"2012-12-15 06:39:49","url":"https://farm9.static.flickr.com/8355/8303216701_62cbf518ec.jpg"},{"lat":34.004917,"lon":-118.43358,"date":"2012-12-15 21:28:02","url":"https://farm9.static.flickr.com/8352/8298348597_2691273e3e.jpg"},{"lat":34.233665,"lon":-119.047,"date":"2012-12-17 00:10:07","url":"https://farm9.static.flickr.com/8049/8404005434_2573c94532.jpg"},{"lat":40.731094,"lon":-73.99719,"date":"2012-12-17 02:29:29","url":"https://farm9.static.flickr.com/8075/8296078326_6e0acee55d.jpg"},{"lat":-5.134528,"lon":119.44576,"date":"2012-12-17 02:53:30","url":"https://farm9.static.flickr.com/8109/8549516214_34deb664e6.jpg"},{"lat":-25.457232,"lon":-49.291565,"date":"2012-12-18 04:58:56","url":"https://farm9.static.flickr.com/8514/8427714175_7c60052a0d.jpg"},{"lat":34.084667,"lon":-118.274666,"date":"2012-12-18 19:39:10","url":"https://farm9.static.flickr.com/8073/8288905213_ae8304354e.jpg"},{"lat":49.26344,"lon":-122.816986,"date":"2012-12-18 23:12:13","url":"https://farm9.static.flickr.com/8081/8290640418_f22a1a5baf.jpg"},{"lat":34.04979,"lon":-118.42517,"date":"2012-12-19 02:54:06","url":"https://farm9.static.flickr.com/8083/8306667453_9aca124395.jpg"},{"lat":37.974335,"lon":-122.546165,"date":"2012-12-19 04:57:15","url":"https://farm9.static.flickr.com/8379/8520486488_bd30f83412.jpg"},{"lat":59.276134,"lon":18.056974,"date":"2012-12-19 20:20:14","url":"https://farm9.static.flickr.com/8358/8294328931_7902d14f29.jpg"},{"lat":32.843002,"lon":-117.27758,"date":"2012-12-19 21:02:33","url":"https://farm9.static.flickr.com/8218/8289105368_a3e6b6dc2d.jpg"},{"lat":48.447033,"lon":-123.37234,"date":"2012-12-19 22:01:01","url":"https://farm9.static.flickr.com/8213/8289302926_8de07a1b5b.jpg"},{"lat":46.522,"lon":6.670833,"date":"2012-12-19 22:48:05","url":"https://farm9.static.flickr.com/8479/8288669732_27cbccd539.jpg"}]}`

func Test_validate2023(t *testing.T) {
	uri, _ := url.ParseRequestURI("http://localhost:8080/program?tag=flamingofilter")
	err := validate2023(uri, []byte(testdata2023))
	assert.NoError(t, err)
}
